"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=e(require("jquery")):e(window.jQuery)}(function(e){function t(e){var t={};if(void 0===e.selectionStart){e.focus();var a=document.selection.createRange();t.length=a.text.length,a.moveStart("character",-e.value.length),t.end=a.text.length,t.start=t.end-t.length}else t.start=e.selectionStart,t.end=e.selectionEnd,t.length=t.end-t.start;return t}function a(e,t,a){if(void 0===e.selectionStart){e.focus();var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",a),n.moveStart("character",t),n.select()}else e.selectionStart=t,e.selectionEnd=a}function n(e,t){if(t)throw new Error(e)}function i(t,a){e.each(a,function(e,n){"function"==typeof n?a[e]=n(t,a,e):"function"==typeof t.autoNumeric[n]&&(a[e]=t.autoNumeric[n](t,a,e))})}function r(e,t){var a=0,n=0;return t[1]&&(a=t[1].length),e[1]&&(n=e[1].length),Math.max(a,n)}function s(e,t){i(e,t);var a=t.vMax.toString().split("."),n=t.vMin||0===t.vMin?t.vMin.toString().split("."):[];t.aNeg=t.vMin<0?"-":"",a[0]=a[0].replace("-",""),n[0]=n[0].replace("-",""),t.mIntPos=Math.max(a[0].length,1),t.mIntNeg=Math.max(n[0].length,1),null===t.mDec?(t.mDec=r(n,a),t.oDec=t.mDec):t.mDec=Number(t.mDec),t.scaleDecimal&&(t.mDec=t.scaleDecimal),null===t.altDec&&t.mDec>0&&("."===t.aDec&&","!==t.aSep?t.altDec=",":","===t.aDec&&"."!==t.aSep&&(t.altDec="."));var s=t.aNeg?"([-\\"+t.aNeg+"]?)":"(-?)";t.aNegRegAutoStrip=s,t.skipFirstAutoStrip=new RegExp(s+"[^-"+(t.aNeg?"\\"+t.aNeg:"")+"\\"+t.aDec+"\\d].*?(\\d|\\"+t.aDec+"\\d)"),t.skipLastAutoStrip=new RegExp("(\\d\\"+t.aDec+"?)[^\\"+t.aDec+"\\d]\\D*$");var o="-0123456789\\"+t.aDec;return t.allowedAutoStrip=new RegExp("[^"+o+"]","gi"),t.numRegAutoStrip=new RegExp(s+"(?:\\"+t.aDec+"?(\\d+\\"+t.aDec+"\\d+)|(\\d*(?:\\"+t.aDec+"\\d*)?))"),t}function o(e,t){if(""!==t.aSign&&(e=e.replace(t.aSign,"")),t.aSuffix)for(;e.indexOf(t.aSuffix)>-1;)e=e.replace(t.aSuffix,"");e=e.replace(t.skipFirstAutoStrip,"$1$2"),("s"===t.pNeg||"s"===t.pSign&&"p"!==t.pNeg)&&e.indexOf("-")>-1&&""!==e&&(t.trailingNegative=!0),e=e.replace(t.skipLastAutoStrip,"$1"),e=e.replace(t.allowedAutoStrip,""),t.altDec&&(e=e.replace(t.altDec,t.aDec));var a=e.match(t.numRegAutoStrip);if(e=a?[a[1],a[2],a[3]].join(""):"","allow"===t.lZero||"keep"===t.lZero){var n=e.split(t.aDec),i="";n[0].indexOf(t.aNeg)!==-1&&(i=t.aNeg,n[0]=n[0].replace(t.aNeg,"")),""===i&&n[0].length>t.mIntPos&&"0"===n[0].charAt(0)&&(n[0]=n[0].slice(1)),""!==i&&n[0].length>t.mIntNeg&&"0"===n[0].charAt(0)&&(n[0]=n[0].slice(1)),e=i+n.join(t.aDec)}if(t.onOff&&"deny"===t.lZero||"allow"===t.lZero&&t.onOff===!1){var r="^"+t.aNegRegAutoStrip+"0*(\\d)";r=new RegExp(r),e=e.replace(r,"$1$2")}return e}function u(e,t){if("p"===t.pSign&&"l"===t.pNeg||"s"===t.pSign&&"p"===t.pNeg){var a=t.nBracket.split(",");t.onOff?t.onOff&&e.charAt(0)===a[0]&&(e=e.replace(a[0],t.aNeg),e=e.replace(a[1],"")):(e=e.replace(t.aNeg,""),e=a[0]+e+a[1])}return e}function l(e){return e=e.replace(",","."),e.lastIndexOf("-")!==-1&&e.lastIndexOf("-")===e.length-1&&(e=e.replace("-",""),e="-"+e),e}function c(e,t){return".-"===t&&(e=e.indexOf("-")>-1?e.replace("-","")+"-":e),","!==t&&"-,"!==t||(e=e.replace(".",",")),",-"===t&&(e=e.replace(".",","),e=e.indexOf("-")>-1?e.replace("-","")+"-":e),e}function g(e,t,a){return t&&"."!==t&&(e=e.replace(t,".")),a&&"-"!==a&&(e=e.replace(a,"-")),e.match(/\d/)||(e+="0"),e}function h(e,t){return t.aNeg&&"-"!==t.aNeg&&(e=e.replace("-",t.aNeg)),t.aDec&&"."!==t.aDec&&(e=e.replace(".",t.aDec)),e}function p(e,t,a){return""===e||e===t.aNeg?"always"===t.wEmpty||a?"l"===t.pNeg?e+t.aSign+t.aSuffix:t.aSign+e+t.aSuffix:e:null}function f(e,t){t.strip&&(e=o(e,t)),t.trailingNegative&&e.indexOf("-")===-1&&(e="-"+e);var a=p(e,t,!0),n=e.indexOf("-")>-1;if(n&&(e=e.replace("-","")),null!==a)return a;var i="";t.dGroup=t.dGroup.toString(),i="2"===t.dGroup?/(\d)((\d)(\d{2}?)+)$/:"2s"===t.dGroup?/(\d)((?:\d{2}){0,2}\d{3}(?:(?:\d{2}){2}\d{3})*?)$/:"4"===t.dGroup?/(\d)((\d{4}?)+)$/:/(\d)((\d{3}?)+)$/;var r=e.split(t.aDec);t.altDec&&1===r.length&&(r=e.split(t.altDec));var s=r[0];if(""!==t.aSep)for(;i.test(s);)s=s.replace(i,"$1"+t.aSep+"$2");return 0!==t.mDec&&r.length>1?(r[1].length>t.mDec&&(r[1]=r[1].substring(0,t.mDec)),e=s+t.aDec+r[1]):e=s,"p"===t.pSign&&(n&&"l"===t.pNeg&&(e=t.aNeg+t.aSign+e),n&&"r"===t.pNeg&&(e=t.aSign+t.aNeg+e),n&&"s"===t.pNeg&&(e=t.aSign+e+t.aNeg),n||(e=t.aSign+e)),"s"===t.pSign&&(n&&"r"===t.pNeg&&(e=e+t.aSign+t.aNeg),n&&"l"===t.pNeg&&(e=e+t.aNeg+t.aSign),n&&"p"===t.pNeg&&(e=t.aNeg+e+t.aSign),n||(e+=t.aSign)),null!==t.nBracket&&(t.rawValue<0||"-"===e.charAt(0))&&(e=u(e,t)),t.trailingNegative=!1,e+t.aSuffix}function d(e,t){if(e=""===e?"0":e.toString(),"N05"===t.mRound||"CHF"===t.mRound||"U05"===t.mRound||"D05"===t.mRound){switch(t.mRound){case"N05":e=(Math.round(20*e)/20).toString();break;case"U05":e=(Math.ceil(20*e)/20).toString();break;default:e=(Math.floor(20*e)/20).toString()}var a=void 0;return a=e.indexOf(".")===-1?e+".00":e.length-e.indexOf(".")<3?e+"0":e}var n="",i=0,r="",s=void 0;s="boolean"==typeof t.aPad||null===t.aPad?t.aPad?t.mDec:0:Number(t.aPad);var o=function(e){var t=void 0;switch(s){case 0:t=/(\.(?:\d*[1-9])?)0*$/;break;case 1:t=/(\.\d(?:\d*[1-9])?)0*$/;break;default:t=new RegExp("(\\.\\d{"+s+"}(?:\\d*[1-9])?)0*")}return e=e.replace(t,"$1"),0===s&&(e=e.replace(/\.$/,"")),e};"-"===e.charAt(0)&&(r="-",e=e.replace("-","")),e.match(/^\d/)||(e="0"+e),"-"===r&&0===Number(e)&&(r=""),(Number(e)>0&&"keep"!==t.lZero||e.length>0&&"allow"===t.lZero)&&(e=e.replace(/^0*(\d)/,"$1"));var u=e.lastIndexOf("."),l=u===-1?e.length-1:u,c=e.length-1-l;if(c<=t.mDec){if(n=e,c<s){u===-1&&(n+=t.aDec);for(var g="000000";c<s;)g=g.substring(0,s-c),n+=g,c+=g.length}else c>s?n=o(n):0===c&&0===s&&(n=n.replace(/\.$/,""));return 0===Number(n)?n:r+n}var h=u+t.mDec,p=Number(e.charAt(h+1)),f="."===e.charAt(h)?e.charAt(h-1)%2:e.charAt(h)%2,d=e.substring(0,h+1).split("");if(p>4&&"s"===t.mRound||p>4&&"A"===t.mRound&&""===r||p>5&&"A"===t.mRound&&"-"===r||p>5&&"s"===t.mRound||p>5&&"A"===t.mRound&&""===r||p>4&&"A"===t.mRound&&"-"===r||p>5&&"B"===t.mRound||5===p&&"B"===t.mRound&&1===f||p>0&&"C"===t.mRound&&""===r||p>0&&"F"===t.mRound&&"-"===r||p>0&&"U"===t.mRound)for(i=d.length-1;i>=0;i-=1)if("."!==d[i]){if(d[i]=+d[i]+1,d[i]<10)break;i>0&&(d[i]="0")}return d=d.slice(0,h+1),n=o(d.join("")),0===Number(n)?n:r+n}function m(e,t,a){var n=t.aDec,i=t.mDec;if(e="paste"===a?d(e,t):e,n&&i){var r=e.split(n);r[1]&&r[1].length>i&&(i>0?(r[1]=r[1].substring(0,i),e=r.join(n)):e=r[0])}return e}function v(e){var t={},a=void 0,n=void 0,i=void 0,r=void 0;if(0===e&&1/e<0&&(e="-0"),e=e.toString(),"-"===e.charAt(0)?(e=e.slice(1),t.s=-1):t.s=1,a=e.indexOf("."),a>-1&&(e=e.replace(".","")),a<0&&(a=e.length),n=e.search(/[1-9]/i)===-1?e.length:e.search(/[1-9]/i),i=e.length,n===i)t.e=0,t.c=[0];else{for(r=i-1;"0"===e.charAt(r);r-=1)i-=1;for(i-=1,t.e=a-n-1,t.c=[],a=0;n<=i;n+=1)t.c[a]=+e.charAt(n),a+=1}return t}function S(e,t){var a=void 0,n=t.c,i=e.c,r=t.s,s=e.s,o=t.e,u=e.e;if(!n[0]||!i[0]){var l=void 0;return l=n[0]?r:i[0]?-s:0}if(r!==s)return r;if(a=r<0,o!==u)return o>u^a?1:-1;for(r=-1,o=n.length,u=i.length,s=o<u?o:u,r+=1;r<s;r+=1)if(n[r]!==i[r])return n[r]>i[r]^a?1:-1;var c=void 0;return c=o===u?0:o>u^a?1:-1}function N(e,t){e=e.toString(),e=e.replace(",",".");var a=v(t.vMin),n=v(t.vMax),i=v(e),r=void 0;switch(t.oLimits){case"floor":r=[S(a,i)>-1,!0];break;case"ceiling":r=[!0,S(n,i)<1];break;case"ignore":r=[!0,!0];break;default:r=[S(a,i)>-1,S(n,i)<1]}return r}function y(t){return("string"==typeof t||t instanceof String)&&(t=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),t="#"+t.replace(/(:|\.)/g,"\\$1")),e(t)}function x(e,t,a){var n=e.data("autoNumeric");n||(n={},e.data("autoNumeric",n));var i=n.holder;return(void 0===i&&t||a)&&(i=new O(e.get(0),t),n.holder=i),i}function w(e){return e.oDec=e.mDec,e.oPad=e.aPad,e.oBracket=e.nBracket,e.oSep=e.aSep,e.oSign=e.aSign,e}function b(e){for(var t=e+"=",a=document.cookie.split(";"),n="",i=0;i<a.length;i+=1){for(n=a[i];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return null}function D(){var e="modernizr";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(e){return!1}}function k(e,t,a){if(t.aStor){var n=""!==e[0].name&&void 0!==e[0].name?"AUTO_"+decodeURIComponent(e[0].name):"AUTO_"+e[0].id,i=void 0,r=void 0;if(D()===!1)switch(a){case"set":document.cookie=n+"="+t.rawValue+"; expires= ; path=/";break;case"wipe":i=new Date,i.setTime(i.getTime()+-864e5),r="; expires="+i.toUTCString(),document.cookie=n+"='' ;"+r+"; path=/";break;case"get":return b(n)}else switch(a){case"set":sessionStorage.setItem(n,t.rawValue);break;case"wipe":sessionStorage.removeItem(n);break;case"get":return sessionStorage.getItem(n)}}}function O(t,a){this.settings=a,this.that=t,this.$that=e(t),this.formatted=!1,this.settingsClone=s(this.$that,this.settings),this.value=t.value}function A(e,t){return new CustomEvent(e,{detail:t,bubbles:!1,cancelable:!1})}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return document.dispatchEvent(A(e,t))}O.prototype={init:function(e){this.value=this.that.value,this.settingsClone=s(this.$that,this.settings),this.ctrlKey=e.ctrlKey,this.cmdKey=e.metaKey,this.shiftKey=e.shiftKey,this.selection=t(this.that),"keydown"!==e.type&&"keyup"!==e.type||(this.kdCode=e.keyCode),this.which=e.which,this.processed=!1,this.formatted=!1},setSelection:function(e,t,n){e=Math.max(e,0),t=Math.min(t,this.that.value.length),this.selection={start:e,end:t,length:t-e},(void 0===n||n)&&a(this.that,e,t)},setPosition:function(e,t){this.setSelection(e,e,t)},getBeforeAfter:function(){var e=this.value,t=e.substring(0,this.selection.start),a=e.substring(this.selection.end,e.length);return[t,a]},getBeforeAfterStriped:function(){var e=this.settingsClone,t=this.getBeforeAfter();return t[0]=o(t[0],this.settingsClone),t[1]=o(t[1],this.settingsClone),e.trailingNegative&&t[0].indexOf("-")===-1&&(t[0]="-"+t[0],t[1]="-"===t[1]?"":t[1]),e.trailingNegative=!1,t},normalizeParts:function(e,t){var a=this.settingsClone;if(e=o(e,a),t=o(t,a),a.trailingNegative&&e.indexOf("-")===-1&&(e="-"+e,a.trailingNegative=!1),""!==e&&e!==a.aNeg||"deny"!==a.lZero||t>""&&(t=t.replace(/^0*(\d)/,"$1")),this.new_value=e+t,a.aDec){var n=this.new_value.match(new RegExp("^"+a.aNegRegAutoStrip+"\\"+a.aDec));n&&(e=e.replace(n[1],n[1]+"0"),this.new_value=e+t)}return[e,t]},setValueParts:function(e,t,a){var n=this.settingsClone,i=this.normalizeParts(e,t),r=N(this.new_value,n)[0],s=N(this.new_value,n)[1],o=i[0].length;if(this.new_value=i.join(""),r&&s){this.new_value=m(this.new_value,n,a);var u=this.new_value.indexOf(",")!==-1?this.new_value.replace(",","."):this.new_value;return""===u||u===n.aNeg?n.rawValue="":n.rawValue=u,o>this.new_value.length&&(o=this.new_value.length),this.value=this.new_value,this.setPosition(o,!1),!0}return r?s||this.$that.trigger("autoNumeric:maxExceeded"):this.$that.trigger("autoNumeric:minExceeded"),!1},signPosition:function(){var e=this.settingsClone,t=e.aSign,a=this.that;if(t){var n=t.length;if("p"===e.pSign){var i=e.aNeg&&a.value&&a.value.charAt(0)===e.aNeg;return i?[1,n+1]:[0,n]}var r=a.value.length;return[r-n,r]}return[1e3,-1]},expandSelectionOnSign:function(e){var t=this.signPosition(),a=this.selection;a.start<t[1]&&a.end>t[0]&&((a.start<t[0]||a.end>t[1])&&this.value.substring(Math.max(a.start,t[0]),Math.min(a.end,t[1])).match(/^\s*$/)?a.start<t[0]?this.setSelection(a.start,t[0],e):this.setSelection(t[1],a.end,e):this.setSelection(Math.min(a.start,t[0]),Math.max(a.end,t[1]),e))},checkPaste:function(){if(void 0!==this.valuePartsBeforePaste){var e=this.getBeforeAfter(),t=this.valuePartsBeforePaste;delete this.valuePartsBeforePaste,e[0]=e[0].substr(0,t[0].length)+o(e[0].substr(t[0].length),this.settingsClone),this.setValueParts(e[0],e[1],"paste")||(this.value=t.join(""),this.setPosition(t[0].length,!1))}},skipAlways:function(e){var t=this.kdCode,n=this.which,i=this.ctrlKey,r=this.cmdKey,s=this.shiftKey;if((i||r)&&"keyup"===e.type&&void 0!==this.valuePartsBeforePaste||s&&t===B.Insert)return this.checkPaste(),!1;if(t>=B.F1&&t<=B.F12||t>=B.Windows&&t<=B.RightClick||t>=B.Tab&&t<B.Space||t<B.Backspace&&(0===n||n===t)||t===B.NumLock||t===B.ScrollLock||t===B.Insert||t===B.Command)return!0;if((i||r)&&t===B.a){if(this.settings.sNumber){e.preventDefault();var o=this.that.value.length,u=this.settings.aSign.length,l=this.that.value.indexOf("-")===-1?0:1,c=this.settings.aSuffix.length,g=this.settings.pSign,h=this.settings.pNeg,p=void 0;p="s"===g?0:"l"===h&&1===l&&u>0?u+1:u;var f=void 0;if("p"===g)f=o-c;else switch(h){case"l":f=o-(c+u);break;case"r":f=u>0?o-(u+l+c):o-(u+c);break;default:f=o-(u+c)}a(this.that,p,f)}return!0}if((i||r)&&(t===B.c||t===B.v||t===B.x))return"keydown"===e.type&&this.expandSelectionOnSign(),t!==B.v&&t!==B.Insert||("keydown"===e.type||"keypress"===e.type?void 0===this.valuePartsBeforePaste&&(this.valuePartsBeforePaste=this.getBeforeAfter()):this.checkPaste()),"keydown"===e.type||"keypress"===e.type||t===B.c;if(i||r)return!0;if(t===B.LeftArrow||t===B.RightArrow){var d=this.settingsClone.aSep,m=this.settingsClone.aDec,v=this.selection.start,S=this.that.value;return"keydown"!==e.type||this.shiftKey||(t!==B.LeftArrow||S.charAt(v-2)!==d&&S.charAt(v-2)!==m?t!==B.RightArrow||S.charAt(v+1)!==d&&S.charAt(v+1)!==m||this.setPosition(v+1):this.setPosition(v-1)),!0}return t>=B.PageDown&&t<=B.DownArrow},processTrailing:function(e){var t=this.settingsClone;return"p"===t.pSign&&"s"===t.pNeg&&(8===this.kdCode?(t.caretFix=Boolean(this.selection.start>=this.value.indexOf(t.aSuffix)&&""!==t.aSuffix),"-"===this.value.charAt(this.selection.start-1)?e[0]=e[0].substring(1):this.selection.start<=this.value.length-t.aSuffix.length&&(e[0]=e[0].substring(0,e[0].length-1))):(t.caretFix=Boolean(this.selection.start>=this.value.indexOf(t.aSuffix)&&""!==t.aSuffix),this.selection.start>=this.value.indexOf(t.aSign)+t.aSign.length&&(e[1]=e[1].substring(1,e[1].length)),e[0].indexOf("-")>-1&&"-"===this.value.charAt(this.selection.start)&&(e[0]=e[0].substring(1)))),"s"===t.pSign&&"l"===t.pNeg&&(t.caretFix=Boolean(this.selection.start>=this.value.indexOf(t.aNeg)+t.aNeg.length),8===this.kdCode?this.selection.start===this.value.indexOf(t.aNeg)+t.aNeg.length&&this.value.indexOf(t.aNeg)!==-1?e[0]=e[0].substring(1):"-"!==e[0]&&(this.selection.start<=this.value.indexOf(t.aNeg)||this.value.indexOf(t.aNeg)===-1)&&(e[0]=e[0].substring(0,e[0].length-1)):("-"===e[0][0]&&(e[1]=e[1].substring(1)),this.selection.start===this.value.indexOf(t.aNeg)&&this.value.indexOf(t.aNeg)!==-1&&(e[0]=e[0].substring(1)))),"s"===t.pSign&&"r"===t.pNeg&&(t.caretFix=Boolean(this.selection.start>=this.value.indexOf(t.aNeg)+t.aNeg.length),8===this.kdCode?this.selection.start===this.value.indexOf(t.aNeg)+t.aNeg.length?e[0]=e[0].substring(1):"-"!==e[0]&&this.selection.start<=this.value.indexOf(t.aNeg)-t.aSign.length?e[0]=e[0].substring(0,e[0].length-1):""!==e[0]&&this.value.indexOf(t.aNeg)===-1&&(e[0]=e[0].substring(0,e[0].length-1)):(t.caretFix=Boolean(this.selection.start>=this.value.indexOf(t.aSign)&&""!==t.aSign),this.selection.start===this.value.indexOf(t.aNeg)&&(e[0]=e[0].substring(1)),e[1]=e[1].substring(1))),e},processAlways:function(){var e=this.settingsClone,t=[];return(this.kdCode===B.Backspace||this.kdCode===B.Delete)&&(this.selection.length?(this.expandSelectionOnSign(!1),t=this.getBeforeAfterStriped(),this.setValueParts(t[0],t[1])):(t=this.getBeforeAfterStriped(),""===t[0]&&""===t[1]&&(e.throwInput=!1),("p"===e.pSign&&"s"===e.pNeg||"s"===e.pSign&&("l"===e.pNeg||"r"===e.pNeg))&&this.value.indexOf("-")!==-1?t=this.processTrailing(t):8===this.kdCode?t[0]=t[0].substring(0,t[0].length-1):t[1]=t[1].substring(1,t[1].length),this.setValueParts(t[0],t[1])),!0)},processKeypress:function(){var e=this.settingsClone,t=String.fromCharCode(this.which),a=this.getBeforeAfterStriped(),n=a[0],i=a[1];return e.throwInput=!0,t===e.aDec||e.altDec&&t===e.altDec||("."===t||","===t)&&this.kdCode===B.DotNumpad?!e.mDec||!e.aDec||(!!(e.aNeg&&i.indexOf(e.aNeg)>-1)||(n.indexOf(e.aDec)>-1||(i.indexOf(e.aDec)>0||(0===i.indexOf(e.aDec)&&(i=i.substr(1)),this.setValueParts(n+e.aDec,i,null),!0)))):"-"!==t&&"+"!==t||"-"!==e.aNeg?t>="0"&&t<="9"?(e.aNeg&&""===n&&i.indexOf(e.aNeg)>-1&&(n=e.aNeg,i=i.substring(1,i.length)),e.vMax<=0&&e.vMin<e.vMax&&this.value.indexOf(e.aNeg)===-1&&"0"!==t&&(n=e.aNeg+n),this.setValueParts(n+t,i,null),!0):(e.throwInput=!1,!0):!e||("p"===e.pSign&&"s"===e.pNeg||"s"===e.pSign&&"p"!==e.pNeg?(""===n&&i.indexOf(e.aNeg)>-1&&(n=e.aNeg,i=i.substring(1,i.length)),n="-"===n.charAt(0)||n.indexOf(e.aNeg)!==-1?n.substring(1,n.length):"-"===t?e.aNeg+n:n):(""===n&&i.indexOf(e.aNeg)>-1&&(n=e.aNeg,i=i.substring(1,i.length)),n=n.charAt(0)===e.aNeg?n.substring(1,n.length):"-"===t?e.aNeg+n:n),this.setValueParts(n,i,null),!0)},formatQuick:function(t){var a=this,n=this.settingsClone,i=this.getBeforeAfterStriped(),r=this.value,s=t.keyCode;if((""===n.aSep||""!==n.aSep&&r.indexOf(n.aSep)===-1)&&(""===n.aSign||""!==n.aSign&&r.indexOf(n.aSign)===-1)){var o=r.split(n.aDec),u="";o[0].indexOf("-")>-1&&(u="-",o[0]=o[0].replace("-",""),i[0]=i[0].replace("-","")),""===u&&o[0].length>n.mIntPos&&"0"===i[0].charAt(0)&&(i[0]=i[0].slice(1)),"-"===u&&o[0].length>n.mIntNeg&&"0"===i[0].charAt(0)&&(i[0]=i[0].slice(1)),i[0]=u+i[0]}var l=f(this.value,this.settingsClone),c=l.length;if(l){var g=i[0].split("");("s"===n.pNeg||"s"===n.pSign&&"p"!==n.pNeg)&&"-"===g[0]&&""!==n.aNeg&&(g.shift(),"s"!==n.pSign||"l"!==n.pNeg||s!==B.Backspace&&this.kdCode!==B.Backspace&&s!==B.Delete&&this.kdCode!==B.Delete||!n.caretFix||(g.push("-"),n.caretFix=Boolean("keydown"===t.type)),"p"!==n.pSign||"s"!==n.pNeg||s!==B.Backspace&&this.kdCode!==B.Backspace&&s!==B.Delete&&this.kdCode!==B.Delete||!n.caretFix||(g.push("-"),n.caretFix=Boolean("keydown"===t.type)),"s"!==n.pSign||"r"!==n.pNeg||s!==B.Backspace&&this.kdCode!==B.Backspace&&s!==B.Delete&&this.kdCode!==B.Delete||!n.caretFix||!function(){var i=n.aSign.split(""),r=["\\","^","$",".","|","?","*","+","(",")","["],o=[],u=void 0;e.each(i,function(t,a){a=i[t],e.inArray(a,r)!==-1?o.push("\\"+a):o.push(a)}),s!==B.Backspace&&a.kdCode!==B.Backspace||o.push("-"),u=o.join(""),g.push(u),n.caretFix=Boolean("keydown"===t.type)}());for(var h=0;h<g.length;h++)g[h].match("\\d")||(g[h]="\\"+g[h]);var p=new RegExp("^.*?"+g.join(".*?")),d=l.match(p);d?(c=d[0].length,(0===c&&l.charAt(0)!==n.aNeg||1===c&&l.charAt(0)===n.aNeg)&&n.aSign&&"p"===n.pSign&&(c=this.settingsClone.aSign.length+("-"===l.charAt(0)?1:0))):(n.aSign&&"s"===n.pSign&&(c-=n.aSign.length),n.aSuffix&&(c-=n.aSuffix.length))}this.that.value=l,this.setPosition(c),this.formatted=!0}};var B={Backspace:8,Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,PauseBreak:19,CapsLock:20,Esc:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40,Insert:45,Delete:46,num0:48,num1:49,num2:50,num3:51,num4:52,num5:53,num6:54,num7:55,num8:56,num9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,Windows:91,RightClick:93,numpad0:96,numpad1:97,numpad2:98,numpad3:99,numpad4:100,numpad5:101,numpad6:102,numpad7:103,numpad8:104,numpad9:105,MultiplyNumpad:106,PlusNumpad:107,MinusNumpad:109,DotNumpad:110,SlashNumpad:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NumLock:144,ScrollLock:145,MyComputer:182,MyCalculator:183,Semicolon:186,Equal:187,Comma:188,Hyphen:189,Dot:190,Slash:191,Backquote:192,LeftBracket:219,Backslash:220,RightBracket:221,Quote:222,Command:224},P={init:function(t){return this.each(function(){var i=e(this),r=i.data(),s=i.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])"),l=i.data("autoNumeric");if("object"===("undefined"==typeof l?"undefined":_typeof(l)))return this;l=e.extend({},e.fn.autoNumeric.defaults,r,t,{onOff:!1,runOnce:!1,rawValue:"",trailingNegative:!1,caretFix:!1,throwInput:!0,strip:!0,tagList:["b","caption","cite","code","dd","del","div","dfn","dt","em","h1","h2","h3","h4","h5","h6","ins","kdb","label","li","option","output","p","q","s","sample","span","strong","td","th","u","const"]}),l.aDec===l.aSep&&n("autoNumeric will not function properly when the decimal character aDec ["+l.aDec+"] and the thousand separator aSep ["+l.aSep+"] are the same character",l.debug),e.each(l,function(e,t){"true"!==t&&"false"!==t||(l[e]=Boolean("true"===t)),"number"==typeof t&&"aScale"!==e&&(l[e]=t.toString())}),null!==l.aScale&&(l.scaleFactor=+l.aScale[0],l.scaleDecimal=l.aScale[1]?+l.aScale[1]:null,l.scaleSuffix=l.aScale[2]?l.aScale[2]:""),i.data("autoNumeric",l),l=w(l);var c=x(i,l);if(s||"input"!==i.prop("tagName").toLowerCase()||n('The input type "'+i.prop("type")+'" is not supported by autoNumeric',l.debug),e.inArray(i.prop("tagName").toLowerCase(),l.tagList)===-1&&"input"!==i.prop("tagName").toLowerCase()&&n("The <"+i.prop("tagName").toLowerCase()+"> tag is not supported by autoNumeric",l.debug),l.aDec===l.aSep&&n("autoNumeric will not function properly when the decimal character aDec ["+l.aDec+"] and the thousand separator aSep ["+l.aSep+"] are the same character",l.debug),l.eDec<l.mDec&&null!==l.eDec&&n("autoNumeric will not function properly when the extended decimal places eDec ["+l.eDec+"] is greater than the mDec ["+l.mDec+"] value",l.debug),l.runOnce===!1&&l.aForm){var m=!0;if(s){if(l.anDefault&&l.anDefault.toString()!==i.val()||null===l.anDefault&&""!==i.val()&&i.val()!==i.attr("value")||""!==i.val()&&"hidden"===i.attr("type")&&!e.isNumeric(i.val().replace(",","."))){if(l.eDec&&l.aStor&&(l.rawValue=k(i,l,"get")),l.aScale&&l.aStor&&(l.rawValue=k(i,l,"get")),!l.aStor){var v=void 0;null!==l.nBracket&&""!==l.aNeg?(l.onOff=!0,v=u(i.val(),l)):v=i.val(),l.rawValue=("s"===l.pNeg||"s"===l.pSign&&"p"!==l.pNeg)&&""!==l.aNeg&&i.val().indexOf("-")>-1?"-"+o(v,l):o(v,l)}m=!1}if(""===i.val())switch(l.wEmpty){case"focus":m=!1;break;case"always":i.val(l.aSign),m=!1;break;case"zero":i.autoNumeric("set","0"),m=!1}else m&&i.val()===i.attr("value")&&i.autoNumeric("set",i.val())}e.inArray(i.prop("tagName").toLowerCase(),l.tagList)!==-1&&""!==i.text()&&(null!==l.anDefault?l.anDefault===i.text()&&i.autoNumeric("set",i.text()):i.autoNumeric("set",i.text()))}l.runOnce=!0,s&&(i.on("focusin.autoNumeric",function(){c=x(i);var e=c.settingsClone;e.onOff=!0,null!==e.nBracket&&""!==e.aNeg&&i.val(u(i.val(),e)),e.nSep===!0&&(e.aSep="",e.aSign=""),e.eDec?(e.mDec=e.eDec,i.autoNumeric("set",e.rawValue)):e.aScale?(e.mDec=e.oDec,i.autoNumeric("set",e.rawValue)):o(i.val(),e)!==e.rawValue&&i.autoNumeric("set",o(i.val(),e)),c.inVal=i.val(),c.lastVal=i.val();var t=p(c.inVal,e,!0);null!==t&&""!==t&&"focus"===e.wEmpty&&i.val(t)}),i.on("keydown.autoNumeric",function(e){return c=x(i),c.that.readOnly?(c.processed=!0,!0):(c.init(e),c.skipAlways(e)?(c.processed=!0,!0):c.processAlways()?(c.processed=!0,c.formatQuick(e),i.val()!==c.lastVal&&c.settingsClone.throwInput&&i.trigger("input"),c.lastVal=i.val(),c.settingsClone.throwInput=!0,e.preventDefault(),!1):(c.formatted=!1,!0))}),i.on("keypress.autoNumeric",function(e){if(!e.shiftKey||e.keyCode!==B.Insert){c=x(i);var t=c.processed;return c.init(e),!!c.skipAlways(e)||(t?(e.preventDefault(),!1):c.processAlways()||c.processKeypress()?(c.formatQuick(e),i.val()!==c.lastVal&&c.settingsClone.throwInput&&i.trigger("input"),c.lastVal=i.val(),c.settingsClone.throwInput=!0,void e.preventDefault()):void(c.formatted=!1))}}),i.on("keyup.autoNumeric",function(e){c=x(i),c.init(e);var t=c.skipAlways(e),n=c.kdCode;return c.kdCode=0,delete c.valuePartsBeforePaste,i[0].value===c.settingsClone.aSign?"s"===c.settingsClone.pSign?a(this,0,0):a(this,c.settingsClone.aSign.length,c.settingsClone.aSign.length):n===B.Tab&&a(this,0,i.val().length),i[0].value===c.settingsClone.aSuffix&&a(this,0,0),""===c.settingsClone.rawValue&&""!==c.settingsClone.aSign&&""!==c.settingsClone.aSuffix&&a(this,0,0),null!==c.settingsClone.eDec&&c.settingsClone.aStor&&k(i,l,"set"),!!t||(""===this.value||void(c.formatted||c.formatQuick(e)))}),i.on("focusout.autoNumeric",function(){c=x(i);var e=i.val(),t=e,a=c.settingsClone;if(a.onOff=!1,a.aStor&&k(i,a,"set"),a.nSep===!0&&(a.aSep=a.oSep,a.aSign=a.oSign),null!==a.eDec&&(a.mDec=a.oDec,a.aPad=a.oPad,a.nBracket=a.oBracket),e=o(e,a),""!==e){a.trailingNegative&&(e="-"+e,a.trailingNegative=!1);var n=N(e,a)[0],r=N(e,a)[1];null===p(e,a)&&n&&r?(e=g(e,a.aDec,a.aNeg),a.rawValue=e,a.aScale&&(e/=a.scaleFactor,e=e.toString()),a.mDec=a.aScale&&a.aScale[1]?+a.scaleDecimal:a.mDec,e=d(e,a),e=h(e,a)):(n||i.trigger("autoNumeric:minExceeded"),r||i.trigger("autoNumeric:maxExceeded"),e=a.rawValue)}else"zero"===a.wEmpty?(a.rawValue="0",e=d("0",a)):a.rawValue="";var s=p(e,a,!1);null===s&&(s=f(e,a)),s!==t&&(s=a.scaleSuffix?s+a.scaleSuffix:s,i.val(s)),s!==c.inVal&&(i.change(),delete c.inVal)}),i.on("paste",function(e){function t(e){return o(e,c.settingsClone).replace(c.settingsClone.aDec,".")}function a(e){return""!==e&&!isNaN(e)}e.preventDefault(),c=x(i);var n=i.autoNumeric("get"),r=this.value||"",s=this.selectionStart||0,u=this.selectionEnd||0,l=r.substring(0,s),g=r.substring(u,r.length),h=t(e.originalEvent.clipboardData.getData("text/plain"));if(a(h)){var p=t(l+Number(h).valueOf()+g);a(p)&&Number(n).valueOf()!==Number(p).valueOf()&&(i.autoNumeric("set",p),i.trigger("input"))}else this.selectionStart=u}),i.closest("form").on("submit.autoNumeric",function(){if(c=x(i)){var e=c.settingsClone;e.unSetOnSubmit&&i.val(e.rawValue)}}))})},destroy:function(){return e(this).each(function(){var t=y(e(this)),a=t.data("autoNumeric");"object"===("undefined"==typeof a?"undefined":_typeof(a))&&(t.val(""),k(t,a,"wipe"),t.removeData("autoNumeric"),t.off(".autoNumeric"))})},wipe:function(){return e(this).each(function(){var t=y(e(this)),a=t.data("autoNumeric");"object"===("undefined"==typeof a?"undefined":_typeof(a))&&(t.val(""),a.rawValue="",k(t,a,"wipe"))})},update:function(t){return e(this).each(function(){var a=y(e(this)),i=a.data("autoNumeric");"object"!==("undefined"==typeof i?"undefined":_typeof(i))&&n('Initializing autoNumeric is required prior to calling the "update" method',!0);var r=a.autoNumeric("get");if(i=e.extend(i,t),null!==i.aScale&&(i.scaleFactor=+i.aScale[0],i.scaleDecimal=i.aScale[1]?+i.aScale[1]:null,i.scaleSuffix=i.aScale[2]?i.aScale[2]:""),i=w(i),x(a,i,!0),i.aDec===i.aSep&&n('autoNumeric will not function properly when the decimal character aDec: "'+i.aDec+'" and thousand separator aSep: "'+i.aSep+'" are the same character',i.debug),a.data("autoNumeric",i),""!==a.val()||""!==a.text())return a.autoNumeric("set",r)})},set:function(t){return e(this).each(function(){if(null!==t&&void 0!==t){var a=y(e(this)),i=a.data("autoNumeric"),r=a.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])"),s=t.toString();if("object"!==("undefined"==typeof i?"undefined":_typeof(i))&&n('Initializing autoNumeric is required prior to calling the "set" method',!0),s=l(s),!e.isNumeric(Number(s)))return n('The value "'+s+'" being "set" is not numeric and has caused a error to be thrown',i.debug),a.val("");if(""===s)return a.val("");var o=N(s,i)[0],u=N(s,i)[1];if(!o||!u){i.rawValue="",k(a,i,"wipe");var c=s;return s="",o||a.trigger("autoNumeric:minExceeded"),u||a.trigger("autoNumeric:maxExceeded"),n("The value ["+c+"] being set falls outside the vMin ["+i.vMin+"] and vMax ["+i.vMax+"] settings for this element",i.debug),a.val("")}return!r||i.eDec&&i.aScale||(i.rawValue=s),(r||e.inArray(a.prop("tagName").toLowerCase(),i.tagList)!==-1)&&(i.aScale&&!i.onOff&&(s/=i.scaleFactor,s=s.toString(),i.mDec=i.scaleDecimal),s=d(s,i),null===i.eDec&&null===i.aScale&&(i.rawValue=s),s=h(s,i),s=f(s,i)),!i.aStor||null===i.eDec&&null===i.aScale||k(a,i,"set"),!i.onOff&&i.scaleSuffix&&(s+=i.scaleSuffix),r?a.val(s):e.inArray(a.prop("tagName").toLowerCase(),i.tagList)!==-1&&a.text(s)}})},unSet:function(){return e(this).each(function(){var t=y(e(this)),a=t.data("autoNumeric");"object"===("undefined"==typeof a?"undefined":_typeof(a))&&(a.onOff=!0,t.val(t.autoNumeric("get")))})},reSet:function(){return e(this).each(function(){var t=y(e(this)),a=t.data("autoNumeric");"object"===("undefined"==typeof a?"undefined":_typeof(a))&&t.autoNumeric("set",t.val())})},get:function(){var t=y(e(this)),a=t.data("autoNumeric"),i=t.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])"),r="";if("object"!==("undefined"==typeof a?"undefined":_typeof(a))&&n('Initializing autoNumeric is required prior to calling the "get" method',!0),i?r=t.eq(0).val():e.inArray(t.prop("tagName").toLowerCase(),a.tagList)!==-1?r=t.eq(0).text():n('The "<'+t.prop("tagName").toLowerCase()+'>" tag is not supported by autoNumeric',a.debug),a.eDec||a.aScale)r=a.rawValue;else{if(!/\d/.test(r)&&0!==Number(r)&&"focus"===a.wEmpty)return"";""!==r&&null!==a.nBracket&&(a.onOff=!0,r=u(r,a)),(a.runOnce||a.aForm===!1)&&(r=o(r,a)),r=g(r,a.aDec,a.aNeg)}return 0===Number(r)&&"keep"!==a.lZero&&(r="0"),a.localeOutput&&(r=c(r,a.localeOutput)),r},_getStringOrArray:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=y(e(this)),n=e("form").index(a),i=e("form:eq("+n+")"),r=[],s=[],o=/^(?:submit|button|image|reset|file)$/i,u=/^(?:input|select|textarea|keygen)/i,l=/^(?:checkbox|radio)$/i,c=/^(?:button|checkbox|color|date|datetime|datetime-local|email|file|image|month|number|password|radio|range|reset|search|submit|time|url|week)/i,g=0;if(e.each(i[0],function(e,t){""===t.name||!u.test(t.localName)||o.test(t.type)||t.disabled||!t.checked&&l.test(t.type)?s.push(-1):(s.push(g),g++)}),g=0,e.each(i[0],function(e,t){"input"!==t.localName||""!==t.type&&"text"!==t.type&&"hidden"!==t.type&&"tel"!==t.type?(r.push(-1),"input"===t.localName&&c.test(t.type)&&g++):(r.push(g),g++)}),t){var h=a.serializeArray();return e.each(h,function(t,a){var i=e.inArray(t,s);if(i>-1&&r[i]>-1){var o=e("form:eq("+n+") input:eq("+r[i]+")"),u=o.data("autoNumeric");"object"===("undefined"==typeof u?"undefined":_typeof(u))&&(a.value=o.autoNumeric("get",u.localeOutput).toString())}}),h}var p=function(){var t=a.serialize(),i=t.split("&");return e.each(i,function(t,a){a=i[t].split("=");var o=e.inArray(t,s);if(o>-1&&r[o]>-1){var u=e("form:eq("+n+") input:eq("+r[o]+")"),l=u.data("autoNumeric");"object"===("undefined"==typeof l?"undefined":_typeof(l))&&null!==a[1]&&(a[1]=u.autoNumeric("get",l.localeOutput).toString(),i[t]=a.join("="))}}),{v:i.join("&")}}();if("object"===("undefined"==typeof p?"undefined":_typeof(p)))return p.v},getString:function(){this._getStringOrArray(!1)},getArray:function(){this._getStringOrArray(!0)},getSettings:function(){var t=y(e(this));return t.eq(0).data("autoNumeric")}};e.fn.autoNumeric=function(e){return P[e]?P[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==("undefined"==typeof e?"undefined":_typeof(e))&&e?void n('Method "'+e+'" is not supported by autoNumeric',!0):P.init.apply(this,arguments)},e.fn.autoNumeric.defaults={aSep:",",nSep:!1,dGroup:"3",aDec:".",altDec:null,aSign:"",pSign:"p",pNeg:"l",aSuffix:"",oLimits:null,vMax:"9999999999999.99",vMin:"-9999999999999.99",mDec:null,eDec:null,aScale:null,aStor:!1,mRound:"s",aPad:!0,nBracket:null,wEmpty:"focus",lZero:"allow",aForm:!0,sNumber:!1,anDefault:null,unSetOnSubmit:!1,localeOutput:null,debug:!1},e.fn.autoFormat=function(t,a){var i=e.extend({},e.fn.autoNumeric.defaults,{strip:!1},a);if(t=t.toString(),t=l(t),Number(t)<0&&(i.aNeg="-"),null===i.mDec){var s=i.vMax.toString().split("."),o=i.vMin||0===i.vMin?i.vMin.toString().split("."):[];i.mDec=r(o,s)}var u=N(t,i)[0],c=N(t,i)[1];return u&&c||(C("autoFormat.autoNumeric","Range test failed"),n("The value ["+t+"] being set falls outside the vMin ["+i.vMin+"] and vMax ["+i.vMax+"] settings",i.debug)),
t=d(t,i),t=h(t,i),t=f(t,i)},e.fn.autoUnformat=function(t,a){var n=e.extend({},e.fn.autoNumeric.defaults,{strip:!1},a),i="-0123456789\\"+n.aDec,r=new RegExp("[^"+i+"]","gi");return t=t.toString(),"-"===t.charAt(0)?n.aNeg="-":n.nBracket&&n.nBracket.split(",")[0]===t.charAt(0)&&(n.aNeg="-",n.onOff=!0,t=u(t,n)),t=t.replace(r,""),t=t.replace(",","."),n.localeOutput&&(t=c(t,n.localeOutput)),t},function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),a}return"function"!=typeof window.CustomEvent&&(e.prototype=window.Event.prototype,void(window.CustomEvent=e))}()});